# Почему докблоки не нужны

## Если коротко

- минимизируется типичная тавтология (class-class, param-param)
- код пишется и — что важнее — читается быстрее
- пулл-реквесты делаются существенно короче, иной раз вдвое и больше
- не нужно сопровождать устаревающие комментарии и хинты, экономится время
- мотивирует соблюдать SRP, удаляя симфонические/бандловые аннотации везде, где возможно, с перенесением в раздельные конфиги
- в частичном, а не 100%-м покрытии класса доктайпами нет ничего страшного / противоестественного. В Java аннотации тоже есть не везде


## Мы не пишем библиотеки

В Симфони-гайде полагается документировать все классы, объекты и их члены.

Однако:
- сам документ, как и PSRы, составлялся во времена PHP < 7, когда не было другого способа полностью документировать возвращаемые типы и аргументы;
- обширная документация имеет куда большую важность для многократно используемой библиотеки (фреймворки, бандлы)
- в архитектуру, в интересах BC, нечасто вносятся серъезные изменения, комментарии имеют меньше шансов устареть по недосмотру
- зато очень важно указать в каждом классе лицензию, версию, автора, его email ~и кличку любимой собаки~

Тогда как:
- в частных, не-коробочных проектах код носит «штучный» характер, который предполагает куда меньше вариантов (ре)использования;
- архитектура в них меняется намного чаще, от фичи к фиче, от релиза к релизу;
- потому и коментарии устаревают на практике чаще — и тайпхинты, и пояснения;
- даже если и подписывать с каждым коммитом им автора(ов) — оценить авторство, кроме коллег, будет практически некому

## Мы пишем на PHP 7.1+

Поэтому у нас уже есть практически всё, чего можно добиться комментариями.
В то же время именно «живые» тайпхинты:
- если упущены при рефакторинге, то с большой вероятностью ломают код, поэтому защищены от устаревания
- позволяют читать код метода подряд, слева направо, не прыгая со строки на строку


## В классах документировать, как правило, нечего

В большинстве классов используются тавтологические конструкции вида:
```php
/**
 * Class SomeClass
 */
class SomeClass
```

Каковые конструкции:
 - не добавляют никакой информации к `class SomeClass`;
 - требуют поддержания в актуальном состоянии (имена классов устаревают, переносятся вместе с копипастой);
 - в результате устаревания комментария мы получаем не просто тавтологию, а сломанную тавтологию:
 ```php
/**
 * Class RefactoredOrCopyPastedClass
 */
class SomeClass
```

## Автоматизация несовершенна

Докблоки удобно генерить с помощью IDE / консольных утилит.

Однако, при недостаточном контроле эти генерированные доки могут скрывать / искажать информацию о параметрах, но выглядеть при этом валидно.

В лучшем случае, без ручного вмешательства они ничего не добавляют к семантике, например, возвращаемых массивов:

```php

/**
 * @return array
 **/
function foo(): array { 
    return ['hey','it','is','string','list'];
}

```

А если ручное вмешательство всё же необходимо — времени такая автоматизация не столько экономит, сколько отнимает.